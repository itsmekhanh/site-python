{% extends "layout.html" %}
{% load static %}
{% block content %}
    <div class="content-container">
        <div id="blog-container">
            {% include "blog/posts.html" %}
        </div>
    </div>
    <nav id="page-nav">
        <a href="/blog/2">Page 2</a>
    </nav>

    <script src="{% static "javascripts/masonry.pkgd.min.js" %}"></script>
    <script src="{% static "javascripts/imagesloaded.pkgd.min.js" %}"></script>
    <script src="{% static "javascripts/jquery.infinitescroll.min.js" %}"></script>
    <script>
    $(window).ready(function(){
        var $container = $("#blog-container");

        $container.imagesLoaded(function(){
            $container.masonry({
                columnWidth:'.mason-item',
                itemSelector: '.mason-item',
                gutter: 10
            });

            var msnry = $container.data('masonry');
        });

        $container.infinitescroll({
            navSelector  : '#page-nav',    // selector for the paged navigation
            nextSelector : '#page-nav a',
            itemSelector : '.mason-item'
        });
    })

    </script>
{% endblock %}
